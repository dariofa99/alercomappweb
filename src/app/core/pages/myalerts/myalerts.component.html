<div class="container p-4">
    <mat-card *ngFor="let alert of alerts;let j=index" class="example-card">
        <mat-card-title class="pb-2">Estado: {{alert.status.reference_name}}</mat-card-title>
        <mat-card-subtitle>Fecha de Creación: {{alert.event_date}}</mat-card-subtitle>
        <mat-card-content>
            <p>{{alert.event_description}}</p>
            <p>Enviado desde {{alert.event_place}}</p>
            <agm-map [latitude]="alert.latitude" [longitude]="alert.longitude" [mapTypeId]="mapType">
            </agm-map>
            <br>
            <p>{{alert.event_aditional_information}}</p>

            <mat-checkbox class="example-margin" [checked]="alert.affected_people" [color]="" (change)="checkboxChanged($event.checked)">
                Afectó a las Personas
            </mat-checkbox>
            <br>
            <mat-checkbox class="example-margin" [checked]="alert.affected_family" [color]="" (change)="checkboxChanged($event.checked)">
                Afectó a la Familia
            </mat-checkbox>
            <br>
            <mat-checkbox class="example-margin" [checked]="alert.affected_animals" [color]="" (change)="checkboxChanged($event.checked)">
                Afectó a los Animales
            </mat-checkbox>
            <br>
            <mat-checkbox class="example-margin" [checked]="alert.affected_infrastructure" [color]="" (change)="checkboxChanged($event.checked)">
                Afectó a la Infraestructura
            </mat-checkbox>
            <br>
            <mat-checkbox class="example-margin" [checked]="alert.affected_livelihoods" [color]="" (change)="checkboxChanged($event.checked)">
                Afectó a los Medios de Subsistencia
            </mat-checkbox>
            <br>
            <label for="Tipo de Alerta">Tipo de Alerta</label>
            <select (change)="onEventTypeSelected($event)" name="event_type_id" class="form-control select2" style="width: 100%;">
                <option value="">Seleccione un tipo de alerta</option>
                <option *ngFor="let eventType of eventTypes" [selected]="alert.event_type_id == eventType.id" [value]="eventType.id">{{eventType.event_type_name}}</option>
            </select>
            <br>
            <label for="Municipio">Municipio</label>
            <select (change)="onEventTypeSelected($event)" name="event_type_id" class="form-control select2" style="width: 100%;">
                <option value="">Seleccione el municipio</option>
                <option [selected]="alert.town_id == alert.town_id" [value]="alert.town_id">{{alert.town.town_name}}</option>
            </select>
            <br>
            <label for="Rango de Afectación">Rango de Afectación</label>
            <select (change)="onEventTypeSelected($event)" name="event_type_id" class="form-control select2" style="width: 100%;">
                <option value="">Seleccione un rango de afectación</option>
                <option *ngFor="let affectRange of affectRanges" [selected]="alert.afectations_range_id == affectRange.id" [value]="affectRange.id">{{affectRange.reference_name}}</option>
            </select>

        </mat-card-content>
        <mat-divider inset></mat-divider>
        <mat-card-actions class="d-flex justify-content-end">
            <button mat-button>Cambiar estado</button>
        </mat-card-actions>
        <mat-card-footer>
            <mat-progress-bar mode=""></mat-progress-bar>
        </mat-card-footer>
    </mat-card>
</div>

<style>
    agm-map {
        height: 300px;
    }
</style>